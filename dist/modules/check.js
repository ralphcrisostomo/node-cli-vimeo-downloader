"use strict";var Check,Manifest,async,chalk,fs,path;async=require("async"),fs=require("fs"),path=require("path"),chalk=require("chalk"),Manifest=require("./manifest"),Check=function(){function e(){}return e.prototype.run=function(e){return function(t){return function(r){return async.series([t._checkDirectory(e),t._checkManifest(e),t._checkVideos(e)],r)}}(this)},e.prototype._checkDirectory=function(e){return function(t){var r;return process.stdout.write(chalk.blue("\nChecking directory...")),r=process.cwd()+"/"+e,fs.existsSync(r)?(process.stdout.write(chalk.green("\nChecking directory : done")),t(null,{})):(process.stdout.write(chalk.red("\nDirectory do not exist.")),process.stdout.write(chalk.blue("\nCreating directory....")),fs.mkdir(""+r,"0777",function(e){return e&&process.stdout.write(chalk.green("\nError while creating directory!")),process.stdout.write(chalk.green("\nCreating directory : done")),t(null,{})}))}},e.prototype._checkManifest=function(e){return function(t){var r,n;return process.stdout.write(chalk.blue("\nChecking `manifest.json`...")),r=process.cwd()+"/"+e,fs.existsSync(r+"/manifest.json")?(process.stdout.write(chalk.green("\nChecking `manifest.json` : done")),t(null,{})):(process.stdout.write(chalk.red("\nManifest do not exist.")),n=new Manifest,n.create(e,1)(t))}},e.prototype._checkVideos=function(){return function(e){return process.stdout.write(chalk.blue("\nChecking videos...")),process.stdout.write(chalk.green("\nChecking videos : done")),e(null,{})}},e}(),module.exports=Check;